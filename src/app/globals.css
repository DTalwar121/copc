@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
    --color-background: var(--background);
    --color-foreground: var(--foreground);
    --font-sans: var(--font-sans);
    --color-sidebar-ring: var(--sidebar-ring);
    --color-sidebar-border: var(--sidebar-border);
    --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
    --color-sidebar-accent: var(--sidebar-accent);
    --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
    --color-sidebar-primary: var(--sidebar-primary);
    --color-sidebar-foreground: var(--sidebar-foreground);
    --color-sidebar: var(--sidebar);
    --color-chart-5: var(--chart-5);
    --color-chart-4: var(--chart-4);
    --color-chart-3: var(--chart-3);
    --color-chart-2: var(--chart-2);
    --color-chart-1: var(--chart-1);
    --color-ring: var(--ring);
    --color-input: var(--input);
    --color-border: var(--border);
    --color-destructive: var(--destructive);
    --color-accent-foreground: var(--accent-foreground);
    --color-accent: var(--accent);
    --color-muted-foreground: var(--muted-foreground);
    --color-muted: var(--muted);
    --color-secondary-foreground: var(--secondary-foreground);
    --color-secondary: var(--secondary);
    --color-primary-foreground: var(--primary-foreground);
    --color-primary: var(--primary);
    --color-popover-foreground: var(--popover-foreground);
    --color-popover: var(--popover);
    --color-card-foreground: var(--card-foreground);
    --color-card: var(--card);
    --radius-sm: calc(var(--radius) - 4px);
    --radius-md: calc(var(--radius) - 2px);
    --radius-lg: var(--radius);
    --radius-xl: calc(var(--radius) + 4px);
    --radius-2xl: calc(var(--radius) + 8px);
    --radius-3xl: calc(var(--radius) + 12px);
    --radius-4xl: calc(var(--radius) + 16px);
}

:root {
    --background: oklch(1 0 0);
    --foreground: oklch(0.145 0 0);
    --card: oklch(1 0 0);
    --card-foreground: oklch(0.145 0 0);
    --popover: oklch(1 0 0);
    --popover-foreground: oklch(0.145 0 0);
    --primary: oklch(0.205 0 0);
    --primary-foreground: oklch(0.985 0 0);
    --secondary: oklch(0.97 0 0);
    --secondary-foreground: oklch(0.205 0 0);
    --muted: oklch(0.97 0 0);
    --muted-foreground: oklch(0.556 0 0);
    --accent: oklch(0.97 0 0);
    --accent-foreground: oklch(0.205 0 0);
    --destructive: oklch(0.577 0.245 27.325);
    --destructive-foreground: oklch(0.577 0.245 27.325);
    --border: oklch(0.922 0 0);
    --input: oklch(0.922 0 0);
    --ring: oklch(0.708 0 0);
    --chart-1: oklch(0.646 0.222 41.116);
    --chart-2: oklch(0.6 0.118 184.704);
    --chart-3: oklch(0.398 0.07 227.392);
    --chart-4: oklch(0.828 0.189 84.429);
    --chart-5: oklch(0.769 0.188 70.08);
    --radius: 0.625rem;
    --sidebar: oklch(0.985 0 0);
    --sidebar-foreground: oklch(0.371 0 0);
    --sidebar-primary: oklch(0.205 0 0);
    --sidebar-primary-foreground: oklch(0.985 0 0);
    --sidebar-accent: oklch(0.97 0 0);
    --sidebar-accent-foreground: oklch(0.205 0 0);
    --sidebar-border: oklch(0.922 0 0);
    --sidebar-ring: oklch(0.708 0 0);
    --copc-navy: #1a2456;
    --copc-navy-dark: #0f1634;
    --copc-navy-light: #2a3a7a;
    --copc-accent: #4a90d9;
    --copc-green: #00a676;
    --copc-green-light: #00c98d;
    --copc-gold: #f5a623;
    --copc-red: #dc3545;
    --copc-purple: #7c3aed;
    --copc-orange: #f97316;
    --surface: #f5f7fa;
    --surface-dark: #e1e5eb;
    --text-primary: #1a2456;
    --text-secondary: #5a6785;
    --white: #ffffff;
}

@layer base {
    * {
        @apply border-border outline-ring/50;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        @apply bg-background text-foreground;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        background: linear-gradient(145deg, var(--copc-navy-dark) 0%, var(--copc-navy) 50%, var(--copc-navy-light) 100%);
        min-height: 100vh;
        color: var(--text-primary);
    }
}

.container {
    max-width: 1500px;
    margin: 0 auto;
    padding: 24px;
}

header {
    text-align: center;
    margin-bottom: 24px;
}

h1 {
    font-size: 2rem;
    font-weight: 700;
    color: white;
    margin-bottom: 8px;
}

h1 span {
    background: linear-gradient(135deg, var(--copc-accent), var(--copc-green-light));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.subtitle {
    font-size: 0.95rem;
    color: rgba(255, 255, 255, 0.7);
}

/* Tabs */
.tabs {
    display: flex;
    gap: 4px;
    margin-bottom: 20px;
    background: rgba(255, 255, 255, 0.1);
    padding: 6px;
    border-radius: 12px;
    width: fit-content;
    margin-left: auto;
    margin-right: auto;
    flex-wrap: wrap;
    justify-content: center;
}

.tab {
    padding: 10px 18px;
    background: transparent;
    border: none;
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.85rem;
    font-weight: 600;
    cursor: pointer;
    border-radius: 8px;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 8px;
}

.tab:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

.tab.active {
    background: white;
    color: var(--copc-navy);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.tab-number {
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    font-weight: 700;
}

.tab.active .tab-number {
    background: var(--copc-navy);
    color: white;
}

.tab-content {
    display: none;
    animation: fadeIn 0.4s ease;
}

.tab-content.active {
    display: block;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Panels */
.panel {
    background: var(--white);
    border-radius: 16px;
    padding: 24px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    margin-bottom: 20px;
}

.panel-title {
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: var(--copc-navy);
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.panel-title::before {
    content: '';
    width: 4px;
    height: 18px;
    background: linear-gradient(to bottom, var(--copc-navy), var(--copc-accent));
    border-radius: 2px;
}

/* Grid layouts */
.grid-2 {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
}

.grid-3 {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
}

.grid-4 {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
}

@media (max-width: 1200px) {
    .grid-3 {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .grid-2, .grid-4 {
        grid-template-columns: 1fr;
    }
}

/* Input groups */
.input-group {
    margin-bottom: 16px;
}

.input-group:last-child {
    margin-bottom: 0;
}

.input-label {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    margin-bottom: 8px;
}

.input-label span:first-child {
    font-size: 0.85rem;
    color: var(--text-primary);
    font-weight: 500;
}

.input-value {
    font-family: 'Space Mono', monospace;
    font-size: 0.95rem;
    font-weight: 700;
    color: var(--copc-navy);
}

input[type="range"] {
    width: 100%;
    height: 6px;
    border-radius: 3px;
    background: var(--surface-dark);
    outline: none;
    -webkit-appearance: none;
    cursor: pointer;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--copc-navy), var(--copc-accent));
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(26, 36, 86, 0.4);
}

.section-label {
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--text-secondary);
    margin-bottom: 14px;
    padding-bottom: 6px;
    border-bottom: 1px solid var(--surface-dark);
}

/* Currency select */
.currency-select {
    padding: 8px 12px;
    border: 1px solid var(--surface-dark);
    border-radius: 6px;
    font-size: 0.85rem;
    font-family: 'Inter', sans-serif;
    color: var(--text-primary);
    background: white;
    cursor: pointer;
    min-width: 130px;
}

/* Intervention cards */
.intervention-category {
    background: var(--surface);
    border-radius: 12px;
    padding: 20px;
    border-left: 4px solid var(--copc-navy);
}

.intervention-category.eliminate {
    border-left-color: var(--copc-red);
}

.intervention-category.automate {
    border-left-color: var(--copc-purple);
}

.intervention-category.optimize {
    border-left-color: var(--copc-green);
}

.category-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 16px;
}

.category-icon {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.1rem;
}

.eliminate .category-icon {
    background: rgba(220, 53, 69, 0.15);
}

.automate .category-icon {
    background: rgba(124, 58, 237, 0.15);
}

.optimize .category-icon {
    background: rgba(0, 166, 118, 0.15);
}

.category-title {
    font-size: 1rem;
    font-weight: 700;
    color: var(--text-primary);
}

.category-subtitle {
    font-size: 0.75rem;
    color: var(--text-secondary);
}

/* Intervention items */
.intervention-item {
    background: white;
    border-radius: 10px;
    margin-bottom: 12px;
    transition: all 0.2s;
    border: 2px solid transparent;
    overflow: hidden;
}

.intervention-item:hover {
    border-color: var(--surface-dark);
}

.intervention-item.active {
    border-color: var(--copc-accent);
    background: rgba(74, 144, 217, 0.03);
}

.intervention-header {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 14px;
    cursor: pointer;
}

.intervention-checkbox {
    width: 22px;
    height: 22px;
    border: 2px solid var(--surface-dark);
    border-radius: 5px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: all 0.2s;
    margin-top: 2px;
}

.intervention-checkbox.checked {
    background: var(--copc-navy);
    border-color: var(--copc-navy);
}

.intervention-checkbox.checked::after {
    content: 'âœ“';
    color: white;
    font-size: 0.75rem;
    font-weight: 700;
}

.intervention-content {
    flex: 1;
}

.intervention-name {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 6px;
}

.intervention-desc {
    font-size: 0.78rem;
    color: var(--text-secondary);
    line-height: 1.5;
}

/* Impact inputs */
.intervention-impacts {
    padding: 12px 14px;
    background: var(--surface);
    border-top: 1px solid var(--surface-dark);
    display: none;
}

.intervention-item.active .intervention-impacts {
    display: block;
}

.impact-inputs {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
}

.impact-input-group {
    display: flex;
    align-items: center;
    gap: 6px;
}

.impact-input-label {
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.impact-input {
    width: 60px;
    padding: 6px 8px;
    border: 1px solid var(--surface-dark);
    border-radius: 4px;
    font-family: 'Space Mono', monospace;
    font-size: 0.85rem;
    font-weight: 600;
    text-align: center;
    color: var(--copc-navy);
}

.impact-input:focus {
    outline: none;
    border-color: var(--copc-accent);
}

.impact-input-suffix {
    font-size: 0.75rem;
    color: var(--text-secondary);
    font-weight: 600;
}

/* Cost metrics */
.cost-metric {
    background: var(--surface);
    border-radius: 8px;
    padding: 14px;
    text-align: center;
}

.cost-metric-label {
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--text-secondary);
    margin-bottom: 6px;
}

.cost-metric-value {
    font-family: 'Space Mono', monospace;
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--copc-navy);
}

.cost-metric-change {
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--copc-green);
    margin-top: 4px;
}

/* Tooltip */
.tooltip {
    position: relative;
    cursor: help;
}

.tooltip::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: var(--copc-navy-dark);
    color: white;
    padding: 6px 10px;
    border-radius: 6px;
    font-size: 0.7rem;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    transition: all 0.2s;
    z-index: 100;
}

.tooltip:hover::after {
    opacity: 1;
    visibility: visible;
}

/* Impact cards */
.impact-card {
    background: white;
    border-radius: 12px;
    padding: 20px;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.impact-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
}

.impact-card.savings::before {
    background: var(--copc-green);
}

.impact-card.csat::before {
    background: var(--copc-accent);
}

.impact-card.calls::before {
    background: var(--copc-gold);
}

.impact-card.fcr::before {
    background: var(--copc-purple);
}

.impact-label {
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--text-secondary);
    margin-bottom: 8px;
}

.impact-before-after {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 12px;
    margin-bottom: 8px;
}

.impact-before {
    font-family: 'Space Mono', monospace;
    font-size: 1.1rem;
    color: var(--text-secondary);
    text-decoration: line-through;
}

.impact-arrow {
    color: var(--text-secondary);
}

.impact-after {
    font-family: 'Space Mono', monospace;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--copc-navy);
}

.impact-delta {
    font-size: 0.85rem;
    font-weight: 600;
    padding: 4px 12px;
    border-radius: 20px;
    display: inline-block;
}

.impact-delta.positive {
    background: rgba(0, 166, 118, 0.15);
    color: var(--copc-green);
}

.impact-delta.negative {
    background: rgba(220, 53, 69, 0.15);
    color: var(--copc-red);
}

/* Comparison table */
.comparison-table {
    width: 100%;
    border-collapse: collapse;
}

.comparison-table th, .comparison-table td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid var(--surface-dark);
}

.comparison-table th {
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--text-secondary);
    background: var(--surface);
}

.comparison-table td {
    font-size: 0.85rem;
}

.comparison-table .metric-name {
    font-weight: 600;
    color: var(--text-primary);
}

.comparison-table .value-current {
    font-family: 'Space Mono', monospace;
    color: var(--text-secondary);
}

.comparison-table .value-final {
    font-family: 'Space Mono', monospace;
    font-weight: 700;
    color: var(--copc-navy);
}

.comparison-table .value-change {
    font-family: 'Space Mono', monospace;
    font-weight: 600;
}

.comparison-table .value-change.positive {
    color: var(--copc-green);
}

.comparison-table .value-change.negative {
    color: var(--copc-red);
}

/* Savings highlight */
.savings-highlight {
    background: linear-gradient(135deg, var(--copc-navy-dark), var(--copc-navy));
    border-radius: 16px;
    padding: 32px;
    color: white;
    text-align: center;
}

.savings-label {
    font-size: 0.8rem;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--copc-accent);
    margin-bottom: 8px;
}

.savings-value {
    font-family: 'Space Mono', monospace;
    font-size: 3.5rem;
    font-weight: 700;
    background: linear-gradient(135deg, var(--copc-green-light), var(--copc-accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.savings-subtext {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.7);
    margin-top: 8px;
}

/* Selected summary */
.selected-summary {
    background: rgba(74, 144, 217, 0.1);
    border: 1px solid var(--copc-accent);
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 20px;
}

.selected-summary-title {
    font-size: 0.75rem;
    font-weight: 700;
    color: var(--copc-accent);
    margin-bottom: 8px;
}

.selected-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
}

.selected-tag {
    font-size: 0.7rem;
    padding: 4px 10px;
    background: white;
    border-radius: 4px;
    color: var(--text-primary);
}

.no-selections {
    font-size: 0.8rem;
    color: var(--text-secondary);
    font-style: italic;
}

/* Waterfall Chart */
.waterfall-container {
    background: white;
    border-radius: 16px;
    padding: 30px;
    margin-top: 20px;
}

.waterfall-chart {
    display: flex;
    justify-content: center;
    gap: 8px;
    padding: 20px 0;
    position: relative;
}

.waterfall-bar-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 1;
    max-width: 120px;
    min-width: 80px;
}

.waterfall-bar-container {
    width: 100%;
    height: 320px;
    position: relative;
}

.waterfall-bar {
    width: 100%;
    border-radius: 6px;
    position: absolute;
    left: 0;
    transition: all 0.5s ease;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 30px;
}

.waterfall-bar.total {
    background: linear-gradient(180deg, var(--copc-navy), var(--copc-navy-dark));
    top: 0;
}

.waterfall-bar.savings {
    background: linear-gradient(180deg, var(--copc-green-light), var(--copc-green));
}

.waterfall-bar.final {
    background: linear-gradient(180deg, var(--copc-accent), var(--copc-navy));
}

.waterfall-connector {
    position: absolute;
    right: -8px;
    height: 2px;
    width: 16px;
    background: var(--surface-dark);
    z-index: 1;
}

.waterfall-value {
    font-family: 'Space Mono', monospace;
    font-size: 0.75rem;
    font-weight: 700;
    color: white;
    text-align: center;
    padding: 8px 4px;
    word-break: break-word;
}

.waterfall-label {
    font-size: 0.65rem;
    font-weight: 600;
    color: var(--text-secondary);
    text-align: center;
    margin-top: 10px;
    padding: 0 4px;
    line-height: 1.3;
    height: 48px;
    display: flex;
    align-items: flex-start;
    justify-content: center;
}

.waterfall-legend {
    display: flex;
    justify-content: center;
    gap: 24px;
    margin-top: 20px;
    flex-wrap: wrap;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.8rem;
    color: var(--text-secondary);
}

.legend-dot {
    width: 14px;
    height: 14px;
    border-radius: 3px;
}

.legend-dot.initial {
    background: var(--copc-navy);
}

.legend-dot.savings {
    background: var(--copc-green);
}

.legend-dot.final {
    background: var(--copc-accent);
}

/* Customer Journey Funnel */
.funnel-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
}

.funnel-row {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    position: relative;
}

.funnel-node {
    background: white;
    border-radius: 12px;
    padding: 16px 20px;
    text-align: center;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    position: relative;
    z-index: 2;
}

.funnel-node.primary {
    background: linear-gradient(135deg, var(--copc-navy), var(--copc-navy-light));
    color: white;
    min-width: 200px;
}

.funnel-node.sst {
    background: linear-gradient(135deg, var(--copc-purple), #9b59b6);
    color: white;
}

.funnel-node.human {
    background: linear-gradient(135deg, var(--copc-accent), #5da0e0);
    color: white;
}

.funnel-node.resolved {
    background: linear-gradient(135deg, var(--copc-green), var(--copc-green-light));
    color: white;
}

.funnel-node.bypass {
    background: linear-gradient(135deg, var(--copc-gold), #f7b731);
    color: white;
}

.funnel-node-label {
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    opacity: 0.9;
    margin-bottom: 4px;
}

.funnel-node-value {
    font-family: 'Space Mono', monospace;
    font-size: 1.3rem;
    font-weight: 700;
}

.funnel-node-pct {
    font-size: 0.75rem;
    opacity: 0.85;
    margin-top: 2px;
}

.funnel-arrow {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 8px 0;
    color: var(--text-secondary);
}

.funnel-arrow-line {
    width: 2px;
    height: 20px;
    background: var(--surface-dark);
}

.funnel-arrow-head {
    width: 0;
    height: 0;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-top: 8px solid var(--surface-dark);
}

.funnel-split {
    display: flex;
    justify-content: center;
    gap: 40px;
    width: 100%;
    position: relative;
}

.funnel-branch {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 1;
    max-width: 200px;
}

.funnel-connector {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    align-items: flex-start;
    justify-content: center;
    width: 70%;
    height: 30px;
}

.funnel-connector::before {
    content: '';
    position: absolute;
    top: 0;
    left: 15%;
    right: 15%;
    height: 2px;
    background: var(--surface-dark);
}

.funnel-connector-left,
.funnel-connector-right {
    position: absolute;
    top: 0;
    width: 2px;
    height: 30px;
    background: var(--surface-dark);
}

.funnel-connector-left {
    left: 15%;
}

.funnel-connector-right {
    right: 15%;
}

.funnel-merge {
    display: flex;
    justify-content: center;
    gap: 20px;
    width: 100%;
    margin-top: 10px;
}

.funnel-merge-branch {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.funnel-final-row {
    display: flex;
    justify-content: center;
    gap: 30px;
    width: 100%;
}

@media (max-width: 768px) {
    .funnel-split {
        gap: 20px;
        flex-direction: column;
        align-items: center;
    }

    .funnel-branch {
        max-width: 100%;
    }

    .funnel-connector {
        display: none;
    }

    .funnel-final-row {
        flex-direction: column;
        align-items: center;
    }
}

/* Resolution Waves */
.waves-flow {
    display: flex;
    align-items: stretch;
    gap: 0;
    overflow-x: auto;
    padding: 20px 0;
}

.wave-stage {
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 140px;
    flex: 1;
}

.wave-incoming {
    background: linear-gradient(135deg, var(--copc-navy), var(--copc-navy-light));
    color: white;
    border-radius: 10px;
    padding: 12px 16px;
    text-align: center;
    width: 100%;
    margin-bottom: 8px;
}

.wave-incoming-label {
    font-size: 0.65rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    opacity: 0.85;
}

.wave-incoming-value {
    font-family: 'Space Mono', monospace;
    font-size: 1.1rem;
    font-weight: 700;
}

.wave-process {
    background: var(--surface);
    border-radius: 8px;
    padding: 10px;
    width: 100%;
    text-align: center;
    border: 2px solid var(--surface-dark);
}

.wave-process-label {
    font-size: 0.7rem;
    font-weight: 700;
    color: var(--text-secondary);
    margin-bottom: 4px;
}

.wave-outcomes {
    display: flex;
    gap: 6px;
    margin-top: 8px;
}

.wave-resolved {
    flex: 1;
    background: linear-gradient(135deg, var(--copc-green), var(--copc-green-light));
    color: white;
    border-radius: 8px;
    padding: 10px 8px;
    text-align: center;
}

.wave-unresolved {
    flex: 1;
    background: linear-gradient(135deg, var(--copc-gold), #f7b731);
    color: white;
    border-radius: 8px;
    padding: 10px 8px;
    text-align: center;
}

.wave-outcome-label {
    font-size: 0.6rem;
    font-weight: 600;
    text-transform: uppercase;
    opacity: 0.9;
}

.wave-outcome-value {
    font-family: 'Space Mono', monospace;
    font-size: 0.95rem;
    font-weight: 700;
}

.wave-outcome-pct {
    font-size: 0.65rem;
    opacity: 0.85;
}

.wave-arrow {
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 30px;
    color: var(--surface-dark);
    font-size: 1.5rem;
}

.wave-header-badge {
    background: var(--copc-navy);
    color: white;
    font-size: 0.75rem;
    font-weight: 700;
    padding: 4px 12px;
    border-radius: 20px;
    margin-bottom: 10px;
}

.wave-cost {
    margin-top: 8px;
    padding: 6px 10px;
    background: rgba(26, 36, 86, 0.08);
    border-radius: 6px;
    font-size: 0.7rem;
    color: var(--text-secondary);
}

.wave-cost-value {
    font-family: 'Space Mono', monospace;
    font-weight: 700;
    color: var(--copc-navy);
}

/* Wave summary cards */
.wave-summary-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 12px;
    margin-top: 20px;
}

@media (max-width: 1000px) {
    .wave-summary-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

@media (max-width: 600px) {
    .wave-summary-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .waves-flow {
        flex-direction: column;
    }

    .wave-arrow {
        transform: rotate(90deg);
        min-height: 30px;
    }
}

.wave-summary-card {
    background: white;
    border-radius: 10px;
    padding: 16px;
    text-align: center;
    border-left: 4px solid var(--copc-navy);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.wave-summary-card.wave-1 {
    border-left-color: var(--copc-green);
}

.wave-summary-card.wave-2 {
    border-left-color: var(--copc-accent);
}

.wave-summary-card.wave-3 {
    border-left-color: var(--copc-gold);
}

.wave-summary-card.wave-4 {
    border-left-color: var(--copc-orange);
}

.wave-summary-card.wave-5 {
    border-left-color: var(--copc-red);
}

.wave-summary-card.not-resolved {
    border-left-color: #666;
}

.wave-summary-title {
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--text-secondary);
    margin-bottom: 8px;
}

.wave-summary-contacts {
    font-family: 'Space Mono', monospace;
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--copc-navy);
}

.wave-summary-pct {
    font-size: 0.75rem;
    color: var(--text-secondary);
    margin-top: 2px;
}

.wave-summary-cost {
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--copc-green);
    margin-top: 6px;
    padding-top: 6px;
    border-top: 1px solid var(--surface-dark);
}

.wave-summary-csat {
    font-size: 0.7rem;
    color: var(--text-secondary);
    margin-top: 4px;
}

/* Cost breakdown table for waves */
.waves-cost-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 16px;
}

.waves-cost-table th,
.waves-cost-table td {
    padding: 10px 12px;
    text-align: left;
    border-bottom: 1px solid var(--surface-dark);
    font-size: 0.85rem;
}

.waves-cost-table th {
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    color: var(--text-secondary);
    background: var(--surface);
}

.waves-cost-table td.wave-name {
    font-weight: 600;
}

.waves-cost-table td.mono {
    font-family: 'Space Mono', monospace;
}

.waves-cost-table tr.total-row {
    background: var(--surface);
    font-weight: 700;
}

.waves-cost-table tr.total-row td {
    border-top: 2px solid var(--copc-navy);
}

footer {
    text-align: center;
    margin-top: 24px;
    color: rgba(255, 255, 255, 0.5);
    font-size: 0.8rem;
}

footer a {
    color: var(--copc-accent);
    text-decoration: none;
}
